<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>GPS Notepad</title>
	<meta name="viewport" content="width=device-width">
	<!-- Resource Information -->
	<link rel="stylesheet" type="text/css" href=gpsNotepad.css>
	<link rel="stylesheet" type="text/css" href=css/buttons.css>
	<script type="text/javascript" src="cordova.js"></script>
	<script type="text/javascript" src="js/jquery-1.11.0.js"></script>
	<script type="text/javascript" src="js/gpsNotepad.js"></script>
	<script type="text/javascript" >
	</script>
  </head>
<body onload="onDeviceReady()">
	<center>
	<div id=header class=header>
		<img id=menubar src=images/3menubars_lightgrey.png>
		<img id=app_icon src=res/drawable-mdpi/icon.png>
		<span id=app_title>GPS Notepad
			<span id=version></span>
		</span>
	</div>
	<div class=default>
		<div id=gpsDetails>Finding geolocation...</div>
	</div>
	<div class='wrapper_status'>
		<span id=status>Status</span>
		<span id=counter style=float:right;></span>
	</div>

	<div id=runButtons class=defaultOff>
		<span id=stopButton class="button button-rounded button-caution">Stop</span>
		<span id=uploadButton class="button button-rounded button-action">Notepad</span>
		<span id=startButton class="button button-rounded button-primary">Start</span>
	</div>
	<br style=clear:both;>
	<div id=mainPanel>
		<div id=recentReading><span id=latLong>Lat,Long</span></div>
		<div id=gpsNotepad>GPSNotepad</div>
		<div id=debug></div>
	</div>
	</center>

</body>
<script type="text/javascript" >
	//
	// Wait for everthing to load
	// "deviceready" is only available on phonegap
	//document.addEventListener("deviceready", onDeviceReady, false);

	//
	// Cordova is ready
	//
	// NOTE: The initialTimeOut is to wait for the GPS to get a decent reading.
	// NOTE: This need to be in the same scope as the EventListener. 
	//	It canNOT go in a seperate file.
	var dummyLoader = function() {
		Location.getLocation();
	}
	function onDeviceReady() {
		//window.setTimeout(dummyLoader, initialTimeOut);
		$('#status').html("Device Ready.");
		console.log("device ready");
		Location.init(onSuccess, onError);

		$('#app_icon').click(function(){console.log('#app_icon');});
		$('#menubar').click(function(){console.log('#menubar');});

		$('#uploadButton').click(function() {
			$('#status').html("Uploading ...");
        });

		$('#startButton').click(function() {
			$('#status').html("Starting ... ");
			Location.watchLocation();
			$('#status').html("Running ...  ");
       	});

		$('#stopButton').click(function() {
			$('#status').html("Stopped ...  ");
			Location.clearWatch();
   	    });
	}

</script>
</html>
